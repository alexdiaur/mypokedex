"use strict";const buttonSearch=document.querySelector(".js-search-btn"),cocktailInput=document.querySelector(".js-cocktail-input"),list=document.querySelector(".js-result-list"),listFavs=document.querySelector(".js-favs-list"),resetBtn=document.querySelector(".js-reset-btn");let drinks=[],favorites=[];function handleDeleteBtns(e){const t=e.currentTarget.id,s=favorites.findIndex(e=>e.id===t);favorites.splice(s,1),renderFavsDrinks()}function listenDeleteBtns(){const e=document.querySelectorAll(".js-delete-btn");for(const t of e)t.addEventListener("click",handleDeleteBtns)}function resetFav(){localStorage.removeItem("favorites"),cocktailInput.value="",listFavs.innerHTML="",list.innerHTML="",favorites=[]}function handleClickReset(e){e.preventDefault(),resetFav()}function getFavoritesfromLocalStorage(){const e=JSON.parse(localStorage.getItem("favorites"));e&&(favorites=e,renderFavsDrinks())}function setFavoritestoLocalStorage(){localStorage.setItem("favorites",JSON.stringify(favorites))}function renderFavsDrinks(){let e="";if(0===favorites.length||null===favorites)e+="Any fav?'";else for(const t of favorites)e+=`<li class="favs_list_item js_fav_item" id="${t.id}">`,e+=`<h2 class="favs_list_name">${t.name}</h2>`,null===t.img?e+='<img class="drink_img" src="./assets/images/strawberry-cocktail-m.jpg" alt="cocktail-photo">':e+=`<img class="drink_img" src="${t.img}" alt="cocktail-photo">`,e+=`<i class="js-delete-btn fa-brands fa-gratipay" id="${t.id}"></i>`,e+="</li>";listFavs.innerHTML=e,listenDeleteBtns()}function handleClickResults(e){const t=e.currentTarget.id,s=drinks.find(e=>e.id===t),i=favorites.findIndex(e=>e.id===t);-1===i?favorites.push(s):favorites.splice(i,1),renderFavsDrinks(),setFavoritestoLocalStorage()}function listenerliResults(){const e=document.querySelectorAll(".js-result");for(const t of e)t.addEventListener("click",handleClickResults)}function renderDrinkList(e){let t="";for(const s of e)t+=`<li class="result_item_list js-result" id="${s.id}">`,null===s.img||void 0===s.img?t+='<img class="drink_img" src="./assets/images/strawberry-cocktail-m.jpg" alt="cocktail-photo"/>':t+=`<img class="drink_img" src="${s.img}" alt= cocktail-photo/>`,t+=`<h2 class="result_list_name">${s.name}</h2>`,t+="</li>";list.innerHTML=t,listenerliResults()}function dataFromApi(){const e=cocktailInput.value;fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+e).then(e=>e.json()).then(e=>{drinks=e.drinks.map(e=>({id:e.idDrink,name:e.strDrink,img:e.strDrinkThumb})),renderDrinkList(drinks),setFavoritestoLocalStorage()})}function handleClicKSearchDrink(e){e.preventDefault(),dataFromApi()}resetBtn.addEventListener("click",handleClickReset),buttonSearch.addEventListener("click",handleClicKSearchDrink),getFavoritesfromLocalStorage();